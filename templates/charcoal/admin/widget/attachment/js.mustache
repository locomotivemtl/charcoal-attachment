{{!--
    Attachment Widget \ JS Component
    ================================

    @used-by `charcoal/admin/widget/attachment`
--}}

{{# addJsRequirement }}
<script rel="l10n">
    {{> charcoal/admin/l10n/widget.js }}
    {{> charcoal/admin/l10n/attachment.js }}
</script>
{{/ addJsRequirement }}

{{# addJs }}
<script>
// Prevent bootstrap dialog from blocking focusin
$(document).on('focusin', function (event) {
    if ($(event.target).closest('.mce-window').length) {
        event.stopImmediatePropagation();
    }
});
{{!
    @see Charcoal.Admin.Widget_Attachment
}}
Charcoal.Admin.manager().add_widget({
    id:             '{{ widgetId }}',
    type:           'charcoal/admin/widget/attachment',
    widget_type:    '{{ type }}',
    data:           {{& widgetDataForJsAsJson }},
    widget_options: {{& widgetOptionsAsJson }}
});
</script>
{{/ addJs }}